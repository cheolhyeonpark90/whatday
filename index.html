<!-- index.html (수정된 버전) -->
<!DOCTYPE html>
<html lang="ko" class="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whatday (왓데이) - 초경량 날짜 계산기</title>
    <meta name="description" content="N일 뒤 계산, 날짜 간격 계산을 1초 만에 끝내는 가장 빠른 날짜 계산기, 왓데이">
    <link rel="stylesheet" href="style.css">
    
    <!-- PWA 관련 태그 삭제: manifest, icon, theme-color -->

    <!-- date-fns CDN -->
    <script src="https://cdn.jsdelivr.net/npm/date-fns@3/cdn.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns/locale/ko/cdn.min.js"></script>
</head>
<body class="bg-slate-50 dark:bg-slate-900 transition-colors duration-300 font-sans">

    <div class="container mx-auto max-w-md p-4 sm:p-6">
        <!-- 헤더 (변경 없음) -->
        <header class="flex justify-between items-center mb-6">
            <h1 class="text-3xl font-bold text-slate-800 dark:text-white">Whatday</h1>
            <button id="darkModeToggle" class="w-12 h-6 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-50 dark:focus:ring-offset-slate-900 focus:ring-sky-500">
                <span class="w-5 h-5 bg-white rounded-full shadow-md transform transition-transform duration-300 translate-x-1 dark:translate-x-6 flex items-center justify-center">
                    <svg class="w-3 h-3 text-slate-400 dark:hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
                    <svg class="w-3 h-3 text-yellow-300 hidden dark:block" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
                </span>
            </button>
        </header>

        <!-- 메인 콘텐츠 (변경 없음) -->
        <main class="space-y-6">
            <!-- 모드 선택 -->
            <div class="grid grid-cols-2 gap-2 p-1 bg-slate-200 dark:bg-slate-800 rounded-lg">
                <button id="modeBtn1" class="mode-btn active">N일 계산</button>
                <button id="modeBtn2" class="mode-btn">날짜 간격</button>
            </div>

            <!-- 모드 1: N일 계산 -->
            <div id="mode1" class="space-y-4">
                <div class="bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm">
                    <label for="startDate" class="text-slate-600 dark:text-slate-400 mb-2 block">기준 날짜</label>
                    <input type="date" id="startDate" class="w-full p-2 border rounded-md dark:bg-slate-700 dark:text-white dark:border-slate-600 focus:ring-2 focus:ring-sky-500">
                </div>
                <div class="bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm">
                    <label for="days" class="text-slate-600 dark:text-slate-400">더하거나 뺄 날짜</label>
                    <div class="flex items-center gap-4 mt-2">
                        <input type="number" id="days" value="30" class="w-full text-center text-2xl font-bold p-2 border rounded-md dark:bg-slate-700 dark:text-white dark:border-slate-600 focus:outline-none focus:ring-2 focus:ring-sky-500">
                    </div>
                </div>
                <button id="calculateBtn1" class="w-full bg-sky-500 text-white font-bold py-3 rounded-lg hover:bg-sky-600 transition-colors duration-300 shadow active:scale-[0.98]">결과 보기</button>
            </div>

            <!-- 모드 2: 날짜 간격 -->
            <div id="mode2" class="hidden space-y-4">
                 <div class="bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm">
                    <label for="diffStartDate" class="text-slate-600 dark:text-slate-400 mb-2 block">시작일</label>
                    <input type="date" id="diffStartDate" class="w-full p-2 border rounded-md dark:bg-slate-700 dark:text-white dark:border-slate-600 focus:ring-2 focus:ring-sky-500">
                </div>
                <div class="bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm">
                    <label for="diffEndDate" class="text-slate-600 dark:text-slate-400 mb-2 block">종료일</label>
                    <input type="date" id="diffEndDate" class="w-full p-2 border rounded-md dark:bg-slate-700 dark:text-white dark:border-slate-600 focus:ring-2 focus:ring-sky-500">
                </div>
                <button id="calculateBtn2" class="w-full bg-sky-500 text-white font-bold py-3 rounded-lg hover:bg-sky-600 transition-colors duration-300 shadow active:scale-[0.98]">차이 계산</button>
            </div>

            <!-- 결과 카드 -->
            <div id="resultCard" class="bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm text-center space-y-3 hidden">
                <p class="text-slate-500 dark:text-slate-400 text-sm">결과</p>
                <p id="resultText" class="text-3xl font-bold text-sky-500 dark:text-sky-400"></p>
                <p id="subResultText" class="text-slate-600 dark:text-slate-300"></p>
                <button id="copyBtn" class="mt-4 px-6 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors">복사</button>
            </div>
        </main>
        
        <!-- 스타일 섹션 (변경 없음) -->
        <style>
          .mode-btn { padding: 0.75rem; border-radius: 0.25rem; font-weight: 600; transition: all 0.2s; color: #64748b; /* slate-500 */ }
          .dark .mode-btn { color: #94a3b8; /* slate-400 */ }
          .mode-btn.active { background-color: white; color: #0ea5e9; /* sky-500 */ box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05); }
          .dark .mode-btn.active { background-color: #334155; /* slate-700 */ }
        </style>
    </div>

    <!-- defer 속성 추가: HTML 파싱이 끝난 후 스크립트를 실행하도록 보장 -->
    <script src="app.js" defer></script> 
</body>
</html>